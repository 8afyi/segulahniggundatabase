<%
  const action = typeof headerAction === "undefined" ? null : headerAction;
  const pageCsrfToken = typeof csrfToken === "undefined" ? "" : csrfToken;
  const metaText = typeof headerMetaText === "undefined" ? "" : headerMetaText;
  const metaPrefix = typeof headerMetaPrefix === "undefined" ? "" : headerMetaPrefix;
  const metaStrong = typeof headerMetaStrong === "undefined" ? "" : headerMetaStrong;
  const metaSuffix = typeof headerMetaSuffix === "undefined" ? "" : headerMetaSuffix;
  const metaClass = typeof headerMetaClass === "undefined" ? "site-tagline" : headerMetaClass;
%>
<header class="site-header">
  <div class="wrap">
    <div class="brand-row">
      <a href="/" class="brand-link" aria-label="Segulah Niggun Database home">
        <img src="/assets/segulah-wide.jpg" alt="Segulah" class="brand-logo" />
      </a>

      <div class="header-actions">
        <a href="/faq" class="button-secondary">FAQ</a>
        <% if (action && action.type === "signout") { %>
          <form method="post" action="<%= action.action || '/admin/logout' %>">
            <%- include("./csrf-field", { csrfToken: action.csrfToken || pageCsrfToken }) %>
            <button type="submit" class="<%= action.className || 'button-secondary' %>"><%= action.label || "Sign out" %></button>
          </form>
        <% } else if (action && action.type === "link") { %>
          <a href="<%= action.href %>" class="<%= action.className || 'button-secondary' %>"><%= action.label %></a>
        <% } %>
      </div>
    </div>

    <% if (metaText || metaPrefix || metaStrong || metaSuffix) { %>
      <p class="<%= metaClass %>">
        <% if (metaText) { %><%= metaText %><% } %>
        <% if (metaPrefix) { %><%= metaPrefix %><% } %>
        <% if (metaStrong) { %><strong><%= metaStrong %></strong><% } %>
        <% if (metaSuffix) { %><%= metaSuffix %><% } %>
      </p>
    <% } %>
  </div>
</header>
